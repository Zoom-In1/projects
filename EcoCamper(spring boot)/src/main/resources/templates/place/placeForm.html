<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<!-- ì™¸ë¶€ CSS ë¡œë“œ -->
<link rel="stylesheet"
   href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.jade.min.css">

<style>
/* ì „ì²´ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
.place-info-container {
   max-width: 900px;
   margin: 0 auto;
   padding: 20px;
   background-color: #fff;
   border-radius: 10px;
   box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* ëŒ€í‘œ ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
.info-section > img {
   width: 100%; /* ë¶€ëª¨ ìš”ì†Œì˜ ë„ˆë¹„ì— ë§ê²Œ ì¡°ì • */
   height: 400px; /* ê³ ì • ë†’ì´ 50px */
   object-fit: cover; /* ì´ë¯¸ì§€ë¥¼ ì˜ì—­ì— ë§ê²Œ ì¡°ì • */
   border-radius: 10px; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
   margin-bottom: 20px; /* ì•„ë˜ìª½ ì—¬ë°± */
}

/* ì •ë³´ ì„¹ì…˜ ê³µí†µ ìŠ¤íƒ€ì¼ */
.info-section {
   margin-bottom: 30px;
}

.info-section h2 {
   font-size: 1.8em;
   margin-bottom: 10px;
   color: #333;
}

.info-section p {
   font-size: 1.2em;
   line-height: 1.6;
   color: #555;
}

/* ì£¼ìš” ì„¹ì…˜ë“¤ì— ê°•ì¡° í‘œì‹œ */
.highlight {
   color: #007bff;
   font-weight: bold;
}

/* ì§€ë„ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
.map-section {
   margin-top: 30px;
}

/* ì§€ë„ í¬ê¸° */
#map {
   width: 100%;
   height: 400px;
   border-radius: 10px;
   margin-bottom: 30px;
}

/* ì˜ˆì•½ ë§í¬ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.reservation-link {
   display: inline-block;
   background-color: #007bff;
   color: white;
   padding: 10px 20px;
   border-radius: 5px;
   text-decoration: none;
   font-size: 1.2em;
}

/* ë³„ì  ë° í‰ì  ìŠ¤íƒ€ì¼ */
.rating-section {
   display: flex;
   align-items: center;
}

.rating-section p {
   margin-left: 10px;
}

/* í¸ì˜ì‹œì„¤, ì£¼ë³€ í™˜ê²½ ë“± ì•„ì´ì½˜ ìŠ¤íƒ€ì¼ */
.facilities, .environment, .season {
   display: flex;
   flex-wrap: wrap;
}

.highlight span, .facilities span, .environment span, .season span {
   background-color: #f0f0f0;
   padding: 5px 10px;
   border-radius: 5px;
   margin: 5px;
   font-size: 1em;
}

.btn {
    display: inline-block;
    padding: 10px 20px;
    background-color: #007bff;
    color: #fff;
    text-align: center;
    border-radius: 5px;
    text-decoration: none;
}

.btn:hover {
    background-color: #0056b3;
}



</style>
</head>
<body>
   <form>
      <input type="hidden" value="[[${map}]]">
   </form>
   <main class="container">

      <!-- ê³µê°„ ìœ í˜• -->
      <div class="highlight">
         <p th:switch="${map.place_category}">
            <span th:case="'place_c01'">ìº í•‘ì¥</span> 
            <span th:case="'place_c02'">ì°¨ë°•, ë…¸ì§€</span> 
            <span th:case="'place_c03'">ê¸€ë¨í•‘, ì¹´ë¼ë°˜</span> 
            <span th:case="'place_c04'">ë°±íŒ¨í‚¹, í•˜ì´í‚¹</span> 
            <span th:case="'place_c05'">ë‚šì‹œìŠ¤íŒŸ</span>
            <span th:case="'place_c06'">ì—¬í–‰</span> 
            <span th:case="'place_c07'">ì•¡í‹°ë¹„í‹°</span>
            <span th:case="'place_c08'">ì›Œí„°ìŠ¤í¬ì¸ </span> 
            <span th:case="'place_c09'">ìŠ¤í† ì–´</span>
            <span th:case="*">ì¹´í…Œê³ ë¦¬ ì •ë³´ ì—†ìŒ</span>
         </p>
      </div>

      <!-- ì¥ì†Œ ì´ë¦„ -->
      <div class="info-section">
         <h1 th:text="${map.place_name}">Place Name</h1>
      </div>

      <!-- ëŒ€í‘œ ì‚¬ì§„ -->
      <div class="info-section">
          <img th:src="${map.place_pic != null && !#strings.isEmpty(map.place_pic) ? map.place_pic : 'https://cdn-icons-png.flaticon.com/128/8863/8863763.png'}" 
               th:style="${map.place_pic == null || #strings.isEmpty(map.place_pic) ? 'object-fit: contain; display: block; margin: 0 auto;' : ''}" 
               alt="ëŒ€í‘œì‚¬ì§„">
      </div>

      <!-- ì£¼ì†Œ -->
      <div class="info-section">
          <p>
              <span th:if="${map.place_address != null and !#strings.isEmpty(map.place_address)}">ğŸ“ </span>
              <span th:text="${map.place_address}">ì§€ì—­ ì •ë³´ ì—†ìŒ</span>
          </p>
      </div>
      
      <!-- ì „í™”ë²ˆí˜¸ -->
      <div class="info-section">
          <p>
              <span th:if="${map.place_tel != null and !#strings.isEmpty(map.place_tel)}">ğŸ“ </span>
              <span th:text="${map.place_tel}">ì „í™”ë²ˆí˜¸ ì •ë³´ ì—†ìŒ</span>
          </p>
      </div>

      <!-- ì¥ì†Œ ì„¤ëª… -->
      <div class="info-section">
          <p th:text="${map.place_description}" style="white-space: pre-line;">
              ì¥ì†Œ ì„¤ëª… ì •ë³´ ì—†ìŒ
          </p>
      </div>
      <br>

      <!-- ì£¼ìš”ì‚¬í•­ -->
      <div class="info-section">
          <p th:text="${map.place_keypoint}" style="white-space: pre-line;">
              ì£¼ìš”ì‚¬í•­ ì •ë³´ ì—†ìŒ
          </p>
      </div>
      <br>

      <!-- ì´ìš©ê° ì•ˆë‚´ì‚¬í•­ -->
      <div class="info-section">
          <p th:text="${map.place_precaution}" style="white-space: pre-line;">
              ì´ìš©ê° ì•ˆë‚´ì‚¬í•­ ì •ë³´ ì—†ìŒ
          </p>
      </div>
      <br>

      <!-- ì—…ì²´ í™ˆí˜ì´ì§€ -->
      <div class="info-section">
          <a th:if="${map.place_bookinglink != null and !#strings.isEmpty(map.place_bookinglink)}"
             th:href="${map.place_bookinglink.startsWith('http') ? map.place_bookinglink : 'http://' + map.place_bookinglink}"
             class="btn" target="_blank">ì˜ˆì•½ ë§í¬</a>
          <p th:if="${map.place_bookinglink == null or #strings.isEmpty(map.place_bookinglink)}"></p>
      </div>
      <br>

      <!-- ì ìˆ˜ í‘œì‹œ ì„¹ì…˜ -->
      <div class="info-section" style="display: flex; justify-content: space-between; align-items: center; border: 1px solid #ddd; background-color: #f9f9f9; padding: 20px; border-radius: 10px;">
          
         <!-- ì—ë””í„° í‰ì  (ì™¼ìª½) -->
         <div class="editor-score" style="flex: 1; text-align: center; border-right: 1px solid #ddd; padding-right: 20px;">
             <h3>ì—ë””í„° í‰ì </h3>
             <div>
                 <!-- ì—ë””í„° ì ìˆ˜ê°€ 1 ì´ìƒì¼ ë•Œ ë³„ í‘œì‹œ -->
                 <span th:if="${map.place_editorscore != null && map.place_editorscore > 0}">
                     <span th:each="i : ${#numbers.sequence(1, T(java.lang.Math).round(map.place_editorscore))}">
                         <img src="https://cdn-icons-png.flaticon.com/128/1055/1055473.png" alt="ë³„" class="star" style="width: 30px; height: 30px;">
                     </span>
                 </span>
                 <!-- ì—ë””í„° ì ìˆ˜ê°€ 0ì´ê±°ë‚˜ nullì¼ ë•Œ "í‰ì  ì •ë³´ ì—†ìŒ" í‘œì‹œ -->
                 <span th:if="${map.place_editorscore == null || map.place_editorscore == 0}">
                     ì—ë””í„° í‰ì  ì •ë³´ ì—†ìŒ
                 </span>
             </div>
         </div>

          <!-- ë‚˜ë¨¸ì§€ 4ê°€ì§€ ì ìˆ˜ (ì˜¤ë¥¸ìª½) -->
          <div class="other-scores" style="flex: 1; padding-left: 20px;">
              <ul style="list-style: none; padding: 0; margin: 0;">
                  
         <!-- ì²­ê²°ë„ ì ìˆ˜ -->
         <li style="margin-bottom: 10px;">
             <strong>ì²­ê²°ë„:</strong>
             <span th:if="${map.place_cleanscore != null && map.place_cleanscore > 0}">
                 <span th:each="i : ${#numbers.sequence(1, T(java.lang.Math).round(map.place_cleanscore))}">
                     <img src="https://cdn-icons-png.flaticon.com/128/1055/1055473.png" alt="ë³„" class="star" style="width: 30px; height: 30px;">
                 </span>
             </span>
             <span th:if="${map.place_cleanscore == null || map.place_cleanscore == 0}">
                 ì ìˆ˜ ì—†ìŒ
             </span>
         </li>
         
         <!-- ë©‹ì§„ë·° ì ìˆ˜ -->
         <li style="margin-bottom: 10px;">
             <strong>ë©‹ì§„ë·°:</strong>
             <span th:if="${map.place_scenescore != null && map.place_scenescore > 0}">
                 <span th:each="i : ${#numbers.sequence(1, T(java.lang.Math).round(map.place_scenescore))}">
                     <img src="https://cdn-icons-png.flaticon.com/128/1055/1055473.png" alt="ë³„" class="star" style="width: 30px; height: 30px;">
                 </span>
             </span>
             <span th:if="${map.place_scenescore == null || map.place_scenescore == 0}">
                 ì ìˆ˜ ì—†ìŒ
             </span>
         </li>
         
         <!-- ì‚¬ì´íŠ¸ ë…ë¦½ì„± ì ìˆ˜ -->
         <li style="margin-bottom: 10px;">
             <strong>ì‚¬ì´íŠ¸ ë…ë¦½ì„±:</strong>
             <span th:if="${map.place_independencescore != null && map.place_independencescore > 0}">
                 <span th:each="i : ${#numbers.sequence(1, T(java.lang.Math).round(map.place_independencescore))}">
                     <img src="https://cdn-icons-png.flaticon.com/128/1055/1055473.png" alt="ë³„" class="star" style="width: 30px; height: 30px;">
                 </span>
             </span>
             <span th:if="${map.place_independencescore == null || map.place_independencescore == 0}">
                 ì ìˆ˜ ì—†ìŒ
             </span>
         </li>
         
         <!-- ì‹œì„¤êµ¬ë¹„ ì ìˆ˜ -->
         <li style="margin-bottom: 10px;">
             <strong>ì‹œì„¤êµ¬ë¹„:</strong>
             <span th:if="${map.place_facilityscore != null && map.place_facilityscore > 0}">
                 <span th:each="i : ${#numbers.sequence(1, T(java.lang.Math).round(map.place_facilityscore))}">
                     <img src="https://cdn-icons-png.flaticon.com/128/1055/1055473.png" alt="ë³„" class="star" style="width: 30px; height: 30px;">
                 </span>
             </span>
             <span th:if="${map.place_facilityscore == null || map.place_facilityscore == 0}">
                 ì ìˆ˜ ì—†ìŒ
             </span>
         </li>

              </ul>
          </div>
      </div>
      <br>

      <!-- í¸ì˜ì‹œì„¤ -->
      <div class="info-section facilities" th:if="${place_facility != null and !place_facility.isEmpty()}">
          <h4 style="margin-right:40em;">í¸ì˜ì‹œì„¤</h4>
          <div>
              <span th:each="facility : ${place_facility}">
                  <span th:switch="${facility}">
                      <span th:case="'place_f01'">í™”ì¥ì‹¤</span>
                      <span th:case="'place_f02'">ìƒ¤ì›Œì‹¤</span>
                      <span th:case="'place_f03'">ë§¤ì </span>
                      <span th:case="'place_f04'">ë‚šì‹œ</span>
                      <span th:case="'place_f05'">ê°œìˆ˜ëŒ€</span>
                      <span th:case="'place_f06'">ì „ê¸°ì‚¬ìš©</span>
                      <span th:case="'place_f07'">ì¥ë¹„ëŒ€ì—¬</span>
                      <span th:case="'place_f08'">ìˆ˜ì˜ì¥</span>
                      <span th:case="'place_f09'">ë·°ë§›ì§‘</span>
                      <span th:case="'place_f10'">ì²´í—˜ í”„ë¡œê·¸ë¨</span>
                      <span th:case="'place_f11'">ë†€ì´ì‹œì„¤</span>
                      <span th:case="'place_f12'">ì•¡í‹°ë¹„í‹°</span>
                      <span th:case="'place_f13'">ë…¸í‚¤ì¦ˆ</span>
                      <span th:case="'place_f14'">ë°˜ë ¤ê²¬ ë™ë°˜</span>
                      <span th:case="'place_f15'">ë°©ì†¡ì¶œì—°</span>
                      <span th:case="'place_f16'">ì—ì–´ì»¨</span>
                      <span th:case="'place_f17'">ì£¼ì°¨</span>
                      <span th:case="*">í¸ì˜ì‹œì„¤ ì •ë³´ ì—†ìŒ</span>
                  </span>
              </span>
          </div>
      </div>
      
      <!-- ì£¼ë³€ í™˜ê²½ -->
      <div class="info-section environment" th:if="${place_environment != null and !place_environment.isEmpty()}">
          <h4 style="margin-right:40em;">ì£¼ë³€ í™˜ê²½</h4>
          <div>
              <span th:each="environment : ${place_environment}">
                  <span th:switch="${environment}">
                      <span th:case="'place_e01'">ë°”ë‹¤</span>
                      <span th:case="'place_e02'">í˜¸ìˆ˜, ê°•</span>
                      <span th:case="'place_e03'">ê³„ê³¡</span>
                      <span th:case="'place_e04'">ì‚°, ìˆ²</span>
                      <span th:case="'place_e05'">ì„¬</span>
                      <span th:case="'place_e06'">ê³µì›, ìœ ì›ì§€</span>
                      <span th:case="'place_e07'">ë„ì‹¬</span>
                      <span th:case="'place_e08'">ë†ì´Œ</span>
                      <span th:case="*">ì£¼ë³€ í™˜ê²½ ì •ë³´ ì—†ìŒ</span>
                  </span>
              </span>
          </div>
      </div>
      
      <!-- ì¶”ì²œ ê³„ì ˆ -->
      <div class="info-section season" th:if="${place_season != null and !place_season.isEmpty()}">
          <h4 style="margin-right:35em;">ë°©ë¬¸í•˜ê¸° ì¢‹ì€ ê³„ì ˆ</h4>
          <div>
              <span th:each="season : ${place_season}">
                  <span th:switch="${season}">
                      <span th:case="'place_s01'">ë´„</span>
                      <span th:case="'place_s02'">ì—¬ë¦„</span>
                      <span th:case="'place_s03'">ê°€ì„</span>
                      <span th:case="'place_s04'">ê²¨ìš¸</span>
                      <span th:case="*">ê³„ì ˆ ì •ë³´ ì—†ìŒ</span>
                  </span>
              </span>
          </div>
      </div>


      <!-- ì£¼ì†Œ -->
      <div class="info-section">
          <p>
              <span th:if="${map.place_address != null and !#strings.isEmpty(map.place_address)}">ğŸ“ </span>
              <span th:text="${map.place_address}">ì§€ì—­ ì •ë³´ ì—†ìŒ</span>
          </p>
      </div>

      <!-- ì§€ë²ˆ -->
      <div class="info-section">
          <p>
              <span th:if="${map.place_oldaddr != null and !#strings.isEmpty(map.place_oldaddr)}">ğŸ¡ </span>
              <span th:text="${map.place_oldaddr}">ì§€ë²ˆ ì •ë³´ ì—†ìŒ</span>
          </p>
      </div>
      
      <!-- ìš°í¸ë²ˆí˜¸ -->
      <div class="info-section">
          <p>
              <span th:if="${map.place_postcode != null and !#strings.isEmpty(map.place_postcode)}">ğŸ“® </span>
              <span th:text="${map.place_postcode}">ìš°í¸ë²ˆí˜¸ ì •ë³´ ì—†ìŒ</span>
          </p>
      </div>


      <!-- ì§€ë„ ì„¹ì…˜ -->
      <div class="map-section">
         <h5>ì§€ë„</h5>
         <div id="map" style="width: 100%; height: 400px;"></div>
      </div>

      <!-- ì§€ë„ ì„¹ì…˜ ì•„ë˜ì— ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ ì¶”ê°€ -->
      <div class="action-buttons">
         <!-- ìˆ˜ì •í•˜ê¸° ë²„íŠ¼ -->
         <a th:href="@{/modifyPlace(place_seq=${map.place_seq})}"
            class="btn btn-primary">ìˆ˜ì •í•˜ê¸°</a>

         <!-- ì‚­ì œí•˜ê¸° ë²„íŠ¼ -->
         <a th:href="@{/deletePlace(place_seq=${map.place_seq})}"
            class="btn btn-danger"
            onclick="return confirm('ì •ë§ ì´ ì¥ì†Œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">ì‚­ì œí•˜ê¸°</a>
      </div>
      <br><br><br>


      <script type="text/javascript"
         src="//dapi.kakao.com/v2/maps/sdk.js?appkey=72e9905822817ffd02d844d2e0802d86&libraries=services"></script>
      <script>
         var mapContainer = document.getElementById('map'), // ì§€ë„ë¥¼ í‘œì‹œí•  div 
         mapOption = {
            center : new kakao.maps.LatLng(33.450701, 126.570667), // ì§€ë„ì˜ ì¤‘ì‹¬ì¢Œí‘œ
            level : 3
         // ì§€ë„ì˜ í™•ëŒ€ ë ˆë²¨
         };

         // ì§€ë„ë¥¼ ìƒì„±í•©ë‹ˆë‹¤    
         var map = new kakao.maps.Map(mapContainer, mapOption);

         // ì£¼ì†Œ-ì¢Œí‘œ ë³€í™˜ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
         var geocoder = new kakao.maps.services.Geocoder();

         // ì£¼ì†Œë¡œ ì¢Œí‘œë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤
         geocoder
               .addressSearch(
                     '[[${map.place_address}]]',
                     function(result, status) {

                        // ì •ìƒì ìœ¼ë¡œ ê²€ìƒ‰ì´ ì™„ë£Œëìœ¼ë©´ 
                        if (status === kakao.maps.services.Status.OK) {

                           var coords = new kakao.maps.LatLng(
                                 result[0].y, result[0].x);

                           // ê²°ê³¼ê°’ìœ¼ë¡œ ë°›ì€ ìœ„ì¹˜ë¥¼ ë§ˆì»¤ë¡œ í‘œì‹œí•©ë‹ˆë‹¤
                           var marker = new kakao.maps.Marker({
                              map : map,
                              position : coords
                           });

                           // ì¸í¬ìœˆë„ìš°ë¡œ ì¥ì†Œì— ëŒ€í•œ ì„¤ëª…ì„ í‘œì‹œí•©ë‹ˆë‹¤
                           var infowindow = new kakao.maps.InfoWindow(
                                 {
                                    content : '<div style="width:150px;text-align:center;padding:6px 0;">[[${map.place_name}]]</div>'
                                 });
                           infowindow.open(map, marker);

                           // ì§€ë„ì˜ ì¤‘ì‹¬ì„ ê²°ê³¼ê°’ìœ¼ë¡œ ë°›ì€ ìœ„ì¹˜ë¡œ ì´ë™ì‹œí‚µë‹ˆë‹¤
                           map.setCenter(coords);
                        }
                     });
      </script>
   </main>
</body>
</html>